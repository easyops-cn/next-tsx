// Jest Snapshot v1, https://jestjs.io/docs/snapshot-testing

exports[`parseView should work 1`] = `
{
  "appType": "view",
  "contracts": Set {},
  "cssFiles": Map {},
  "entry": {
    "assetName": undefined,
    "contracts": Set {
      "<% \`logs/\${CTX.logId}\` %>",
    },
    "defaultExport": {
      "component": {
        "bindingMap": Map {
          Node {
            "end": 847,
            "loc": SourceLocation {
              "end": Position {
                "column": 13,
                "index": 847,
                "line": 44,
              },
              "filename": undefined,
              "identifierName": "query",
              "start": Position {
                "column": 8,
                "index": 842,
                "line": 44,
              },
            },
            "name": "query",
            "start": 842,
            "type": "Identifier",
          } => {
            "id": Node {
              "end": 847,
              "loc": SourceLocation {
                "end": Position {
                  "column": 13,
                  "index": 847,
                  "line": 44,
                },
                "filename": undefined,
                "identifierName": "query",
                "start": Position {
                  "column": 8,
                  "index": 842,
                  "line": 44,
                },
              },
              "name": "query",
              "start": 842,
              "type": "Identifier",
            },
            "kind": "query",
          },
          Node {
            "end": 876,
            "loc": SourceLocation {
              "end": Position {
                "column": 14,
                "index": 876,
                "line": 45,
              },
              "filename": undefined,
              "identifierName": "logId",
              "start": Position {
                "column": 9,
                "index": 871,
                "line": 45,
              },
            },
            "name": "logId",
            "start": 871,
            "type": "Identifier",
          } => {
            "id": Node {
              "end": 876,
              "loc": SourceLocation {
                "end": Position {
                  "column": 14,
                  "index": 876,
                  "line": 45,
                },
                "filename": undefined,
                "identifierName": "logId",
                "start": Position {
                  "column": 9,
                  "index": 871,
                  "line": 45,
                },
              },
              "name": "logId",
              "start": 871,
              "type": "Identifier",
            },
            "initialValue": "<% QUERY.logId %>",
            "kind": "state",
          },
          Node {
            "end": 886,
            "loc": SourceLocation {
              "end": Position {
                "column": 24,
                "index": 886,
                "line": 45,
              },
              "filename": undefined,
              "identifierName": "setLogId",
              "start": Position {
                "column": 16,
                "index": 878,
                "line": 45,
              },
            },
            "name": "setLogId",
            "start": 878,
            "type": "Identifier",
          } => {
            "id": Node {
              "end": 876,
              "loc": SourceLocation {
                "end": Position {
                  "column": 14,
                  "index": 876,
                  "line": 45,
                },
                "filename": undefined,
                "identifierName": "logId",
                "start": Position {
                  "column": 9,
                  "index": 871,
                  "line": 45,
                },
              },
              "name": "logId",
              "start": 871,
              "type": "Identifier",
            },
            "kind": "setState",
          },
          Node {
            "end": 953,
            "loc": SourceLocation {
              "end": Position {
                "column": 20,
                "index": 953,
                "line": 46,
              },
              "filename": undefined,
              "identifierName": "allExpanded",
              "start": Position {
                "column": 9,
                "index": 942,
                "line": 46,
              },
            },
            "name": "allExpanded",
            "start": 942,
            "type": "Identifier",
          } => {
            "id": Node {
              "end": 953,
              "loc": SourceLocation {
                "end": Position {
                  "column": 20,
                  "index": 953,
                  "line": 46,
                },
                "filename": undefined,
                "identifierName": "allExpanded",
                "start": Position {
                  "column": 9,
                  "index": 942,
                  "line": 46,
                },
              },
              "name": "allExpanded",
              "start": 942,
              "type": "Identifier",
            },
            "initialValue": false,
            "kind": "state",
          },
          Node {
            "end": 969,
            "loc": SourceLocation {
              "end": Position {
                "column": 36,
                "index": 969,
                "line": 46,
              },
              "filename": undefined,
              "identifierName": "setAllExpanded",
              "start": Position {
                "column": 22,
                "index": 955,
                "line": 46,
              },
            },
            "name": "setAllExpanded",
            "start": 955,
            "type": "Identifier",
          } => {
            "id": Node {
              "end": 953,
              "loc": SourceLocation {
                "end": Position {
                  "column": 20,
                  "index": 953,
                  "line": 46,
                },
                "filename": undefined,
                "identifierName": "allExpanded",
                "start": Position {
                  "column": 9,
                  "index": 942,
                  "line": 46,
                },
              },
              "name": "allExpanded",
              "start": 942,
              "type": "Identifier",
            },
            "kind": "setState",
          },
          Node {
            "end": 1010,
            "loc": SourceLocation {
              "end": Position {
                "column": 20,
                "index": 1010,
                "line": 47,
              },
              "filename": undefined,
              "identifierName": "expandedSet",
              "start": Position {
                "column": 9,
                "index": 999,
                "line": 47,
              },
            },
            "name": "expandedSet",
            "start": 999,
            "type": "Identifier",
          } => {
            "id": Node {
              "end": 1010,
              "loc": SourceLocation {
                "end": Position {
                  "column": 20,
                  "index": 1010,
                  "line": 47,
                },
                "filename": undefined,
                "identifierName": "expandedSet",
                "start": Position {
                  "column": 9,
                  "index": 999,
                  "line": 47,
                },
              },
              "name": "expandedSet",
              "start": 999,
              "type": "Identifier",
            },
            "initialValue": "<% new Set() %>",
            "kind": "state",
          },
          Node {
            "end": 1026,
            "loc": SourceLocation {
              "end": Position {
                "column": 36,
                "index": 1026,
                "line": 47,
              },
              "filename": undefined,
              "identifierName": "setExpandedSet",
              "start": Position {
                "column": 22,
                "index": 1012,
                "line": 47,
              },
            },
            "name": "setExpandedSet",
            "start": 1012,
            "type": "Identifier",
          } => {
            "id": Node {
              "end": 1010,
              "loc": SourceLocation {
                "end": Position {
                  "column": 20,
                  "index": 1010,
                  "line": 47,
                },
                "filename": undefined,
                "identifierName": "expandedSet",
                "start": Position {
                  "column": 9,
                  "index": 999,
                  "line": 47,
                },
              },
              "name": "expandedSet",
              "start": 999,
              "type": "Identifier",
            },
            "kind": "setState",
          },
          Node {
            "end": 1075,
            "loc": SourceLocation {
              "end": Position {
                "column": 16,
                "index": 1075,
                "line": 48,
              },
              "filename": undefined,
              "identifierName": "modalRef",
              "start": Position {
                "column": 8,
                "index": 1067,
                "line": 48,
              },
            },
            "name": "modalRef",
            "start": 1067,
            "type": "Identifier",
          } => {
            "id": Node {
              "end": 1075,
              "loc": SourceLocation {
                "end": Position {
                  "column": 16,
                  "index": 1075,
                  "line": 48,
                },
                "filename": undefined,
                "identifierName": "modalRef",
                "start": Position {
                  "column": 8,
                  "index": 1067,
                  "line": 48,
                },
              },
              "name": "modalRef",
              "start": 1067,
              "type": "Identifier",
            },
            "kind": "ref",
            "refName": "modalRef-0",
          },
          Node {
            "end": 1120,
            "loc": SourceLocation {
              "end": Position {
                "column": 18,
                "index": 1120,
                "line": 49,
              },
              "filename": undefined,
              "identifierName": "detailLog",
              "start": Position {
                "column": 9,
                "index": 1111,
                "line": 49,
              },
            },
            "name": "detailLog",
            "start": 1111,
            "type": "Identifier",
          } => {
            "id": Node {
              "end": 1120,
              "loc": SourceLocation {
                "end": Position {
                  "column": 18,
                  "index": 1120,
                  "line": 49,
                },
                "filename": undefined,
                "identifierName": "detailLog",
                "start": Position {
                  "column": 9,
                  "index": 1111,
                  "line": 49,
                },
              },
              "name": "detailLog",
              "start": 1111,
              "type": "Identifier",
            },
            "initialValue": null,
            "kind": "state",
          },
          Node {
            "end": 1134,
            "loc": SourceLocation {
              "end": Position {
                "column": 32,
                "index": 1134,
                "line": 49,
              },
              "filename": undefined,
              "identifierName": "setDetailLog",
              "start": Position {
                "column": 20,
                "index": 1122,
                "line": 49,
              },
            },
            "name": "setDetailLog",
            "start": 1122,
            "type": "Identifier",
          } => {
            "id": Node {
              "end": 1120,
              "loc": SourceLocation {
                "end": Position {
                  "column": 18,
                  "index": 1120,
                  "line": 49,
                },
                "filename": undefined,
                "identifierName": "detailLog",
                "start": Position {
                  "column": 9,
                  "index": 1111,
                  "line": 49,
                },
              },
              "name": "detailLog",
              "start": 1111,
              "type": "Identifier",
            },
            "kind": "setState",
          },
          Node {
            "end": 1181,
            "loc": SourceLocation {
              "end": Position {
                "column": 15,
                "index": 1181,
                "line": 50,
              },
              "filename": undefined,
              "identifierName": "history",
              "start": Position {
                "column": 8,
                "index": 1174,
                "line": 50,
              },
            },
            "name": "history",
            "start": 1174,
            "type": "Identifier",
          } => {
            "id": Node {
              "end": 1181,
              "loc": SourceLocation {
                "end": Position {
                  "column": 15,
                  "index": 1181,
                  "line": 50,
                },
                "filename": undefined,
                "identifierName": "history",
                "start": Position {
                  "column": 8,
                  "index": 1174,
                  "line": 50,
                },
              },
              "name": "history",
              "start": 1174,
              "type": "Identifier",
            },
            "kind": "history",
          },
          Node {
            "end": 1212,
            "loc": SourceLocation {
              "end": Position {
                "column": 13,
                "index": 1212,
                "line": 52,
              },
              "filename": undefined,
              "identifierName": "logs",
              "start": Position {
                "column": 9,
                "index": 1208,
                "line": 52,
              },
            },
            "name": "logs",
            "start": 1208,
            "type": "Identifier",
          } => {
            "id": Node {
              "end": 1212,
              "loc": SourceLocation {
                "end": Position {
                  "column": 13,
                  "index": 1212,
                  "line": 52,
                },
                "filename": undefined,
                "identifierName": "logs",
                "start": Position {
                  "column": 9,
                  "index": 1208,
                  "line": 52,
                },
              },
              "name": "logs",
              "start": 1208,
              "type": "Identifier",
            },
            "kind": "resource",
            "resource": {
              "api": "<% \`logs/\${CTX.logId}\` %>",
              "config": {
                "enabled": "<% !!CTX.logId %>",
                "fallback": null,
              },
              "http": true,
              "name": "logs",
              "rejectTransform": "<% [] %>",
              "transform": "<% DATA.data.logs %>",
            },
          },
          Node {
            "end": 1225,
            "loc": SourceLocation {
              "end": Position {
                "column": 26,
                "index": 1225,
                "line": 52,
              },
              "filename": undefined,
              "identifierName": "refetchLogs",
              "start": Position {
                "column": 15,
                "index": 1214,
                "line": 52,
              },
            },
            "name": "refetchLogs",
            "start": 1214,
            "type": "Identifier",
          } => {
            "id": Node {
              "end": 1225,
              "loc": SourceLocation {
                "end": Position {
                  "column": 26,
                  "index": 1225,
                  "line": 52,
                },
                "filename": undefined,
                "identifierName": "refetchLogs",
                "start": Position {
                  "column": 15,
                  "index": 1214,
                  "line": 52,
                },
              },
              "name": "refetchLogs",
              "start": 1214,
              "type": "Identifier",
            },
            "kind": "refetch",
            "resourceId": Node {
              "end": 1212,
              "loc": SourceLocation {
                "end": Position {
                  "column": 13,
                  "index": 1212,
                  "line": 52,
                },
                "filename": undefined,
                "identifierName": "logs",
                "start": Position {
                  "column": 9,
                  "index": 1208,
                  "line": 52,
                },
              },
              "name": "logs",
              "start": 1208,
              "type": "Identifier",
            },
          },
        },
        "children": [
          {
            "children": [
              {
                "children": [
                  {
                    "children": undefined,
                    "events": {
                      "search": [
                        {
                          "action": "conditional",
                          "key": "event",
                          "payload": {
                            "alternate": [
                              {
                                "action": "update_variable",
                                "key": "event",
                                "payload": {
                                  "name": "logId",
                                  "scope": "global",
                                  "value": undefined,
                                },
                              },
                              {
                                "action": "navigate",
                                "key": "event",
                                "payload": {
                                  "args": [
                                    {
                                      "logId": null,
                                    },
                                    {
                                      "notify": false,
                                    },
                                  ],
                                  "method": "pushQuery",
                                },
                              },
                            ],
                            "consequent": [
                              {
                                "action": "update_variable",
                                "key": "event",
                                "payload": {
                                  "name": "logId",
                                  "scope": "global",
                                  "value": "<% EVENT.detail %>",
                                },
                              },
                              {
                                "action": "navigate",
                                "key": "event",
                                "payload": {
                                  "args": [
                                    {
                                      "logId": "<% EVENT.detail %>",
                                    },
                                    {
                                      "notify": false,
                                    },
                                  ],
                                  "method": "pushQuery",
                                },
                              },
                            ],
                            "test": "<% EVENT.detail %>",
                          },
                        },
                      ],
                    },
                    "lifeCycle": undefined,
                    "name": "Search",
                    "properties": {
                      "inputStyle": {
                        "width": "300px",
                      },
                      "placeholder": "输入任务 ID 并按回车",
                      "value": "<%= CTX.logId %>",
                    },
                    "ref": undefined,
                    "reference": null,
                    "slot": undefined,
                  },
                  {
                    "children": [
                      {
                        "children": undefined,
                        "events": {
                          "click": [
                            {
                              "action": "update_variable",
                              "key": "e",
                              "payload": {
                                "name": "allExpanded",
                                "scope": "global",
                                "value": "<% !CTX.allExpanded %>",
                              },
                            },
                          ],
                        },
                        "lifeCycle": undefined,
                        "name": "Button",
                        "properties": {
                          "textContent": "<%= FN._helper_mergeTexts({type:"expression",value:(CTX.allExpanded ? "全部收起" : "全部展开")}) %>",
                        },
                        "ref": undefined,
                        "reference": null,
                        "slot": "",
                      },
                    ],
                    "name": "If",
                    "properties": {
                      "dataSource": "<%= CTX.logs %>",
                    },
                    "slot": "",
                  },
                ],
                "events": undefined,
                "lifeCycle": undefined,
                "name": "Toolbar",
                "properties": {},
                "ref": undefined,
                "reference": null,
                "slot": undefined,
              },
              {
                "children": [
                  {
                    "children": undefined,
                    "events": undefined,
                    "lifeCycle": undefined,
                    "name": "Table",
                    "properties": {
                      "columns": [
                        {
                          "dataIndex": "time",
                          "key": "time",
                          "render": {
                            "children": [
                              {
                                "name": "Plaintext",
                                "properties": {
                                  "textContent": "<%= FN._helper_mergeTexts({type:"expression",value:(moment(v * 1000).format("HH:mm:ss"))}) %>",
                                },
                              },
                            ],
                            "params": [
                              "v",
                            ],
                            "type": Symbol(renderUseBrick),
                          },
                          "title": "时间",
                        },
                        {
                          "dataIndex": "opType",
                          "key": "opType",
                          "render": {
                            "children": [
                              {
                                "name": "Plaintext",
                                "properties": {
                                  "textContent": "<%= FN._helper_mergeTexts({type:"expression",value:(\`\${v}\${r.opSubType ? \` / \${r.opSubType}\` : ""}\`)}) %>",
                                },
                              },
                            ],
                            "params": [
                              "v",
                              "r",
                            ],
                            "type": Symbol(renderUseBrick),
                          },
                          "title": "操作类型",
                        },
                        {
                          "dataIndex": "data",
                          "key": "data",
                          "render": {
                            "children": [
                              {
                                "children": [
                                  {
                                    "children": undefined,
                                    "events": undefined,
                                    "lifeCycle": undefined,
                                    "name": "CodeBlock",
                                    "properties": {
                                      "language": "json",
                                      "source": "<%= FN.prettierOutput(v) %>",
                                      "style": {
                                        "maxWidth": "696px",
                                      },
                                    },
                                    "ref": undefined,
                                    "reference": null,
                                    "slot": "",
                                  },
                                  {
                                    "children": undefined,
                                    "events": undefined,
                                    "lifeCycle": undefined,
                                    "name": "Plaintext",
                                    "properties": {
                                      "style": {
                                        "display": "block",
                                        "maxWidth": "696px",
                                        "overflow": "hidden",
                                        "textOverflow": "ellipsis",
                                        "whiteSpace": "nowrap",
                                      },
                                      "textContent": "<%= FN._helper_mergeTexts({type:"expression",value:(v)}) %>",
                                    },
                                    "ref": undefined,
                                    "reference": null,
                                    "slot": "else",
                                  },
                                ],
                                "name": "If",
                                "properties": {
                                  "dataSource": "<%= CTX.allExpanded || CTX.expandedSet.has(r.logId) %>",
                                },
                                "slot": "",
                              },
                            ],
                            "params": [
                              "v",
                              "r",
                            ],
                            "type": Symbol(renderUseBrick),
                          },
                          "title": "数据",
                        },
                        {
                          "dataIndex": "operation",
                          "key": "operation",
                          "render": {
                            "children": [
                              {
                                "children": undefined,
                                "events": {
                                  "open.detail": [
                                    {
                                      "action": "update_variable",
                                      "key": undefined,
                                      "payload": {
                                        "name": "detailLog",
                                        "scope": "global",
                                        "value": "<% r %>",
                                      },
                                    },
                                    {
                                      "action": "call_ref",
                                      "key": undefined,
                                      "payload": {
                                        "args": [],
                                        "method": "open",
                                        "ref": "modalRef-0",
                                        "scope": "global",
                                      },
                                    },
                                  ],
                                  "toggle": [
                                    {
                                      "action": "update_variable",
                                      "key": undefined,
                                      "payload": {
                                        "name": "expandedSet",
                                        "scope": "global",
                                        "value": "<% new Set(
                        CTX.expandedSet.has(r.logId)
                          ? [...CTX.expandedSet].filter((id) => id !== r.logId)
                          : [...CTX.expandedSet, r.logId]
                      ) %>",
                                      },
                                    },
                                  ],
                                },
                                "lifeCycle": undefined,
                                "name": "Operations",
                                "properties": {
                                  "allExpanded": "<%= CTX.allExpanded %>",
                                  "expanded": "<%= CTX.expandedSet.has(r.logId) %>",
                                },
                                "ref": undefined,
                                "reference": {
                                  "name": "Operations",
                                  "type": "local",
                                },
                                "slot": undefined,
                              },
                            ],
                            "params": [
                              "v",
                              "r",
                            ],
                            "type": Symbol(renderUseBrick),
                          },
                          "title": "操作",
                        },
                      ],
                      "dataSource": "<%= { list: CTX.logs } %>",
                      "pagination": false,
                      "rowKey": "logId",
                    },
                    "ref": undefined,
                    "reference": null,
                    "slot": "",
                  },
                ],
                "name": "If",
                "properties": {
                  "dataSource": "<%= CTX.logs %>",
                },
                "slot": "",
              },
              {
                "children": [
                  {
                    "children": [
                      {
                        "children": undefined,
                        "events": undefined,
                        "lifeCycle": undefined,
                        "name": "Descriptions",
                        "properties": {
                          "columns": 1,
                          "dataSource": "<%= CTX.detailLog %>",
                          "list": [
                            {
                              "field": "logId",
                              "label": "日志 ID",
                            },
                            {
                              "field": "conversationId",
                              "label": "任务 ID",
                            },
                            {
                              "field": "taskId",
                              "label": "任务 ID",
                            },
                            {
                              "field": "time",
                              "label": "时间",
                              "render": {
                                "children": [
                                  {
                                    "name": "Plaintext",
                                    "properties": {
                                      "textContent": "<%= FN._helper_mergeTexts({type:"expression",value:(moment(r.time * 1000).format("llll"))}) %>",
                                    },
                                  },
                                ],
                                "params": [
                                  "r",
                                ],
                                "type": Symbol(renderUseBrick),
                              },
                            },
                          ],
                        },
                        "ref": undefined,
                        "reference": null,
                        "slot": "",
                      },
                      {
                        "children": undefined,
                        "events": undefined,
                        "lifeCycle": undefined,
                        "name": "CodeBlock",
                        "properties": {
                          "language": "json",
                          "source": "<%= FN.prettierOutput(CTX.detailLog.data) %>",
                        },
                        "ref": undefined,
                        "reference": null,
                        "slot": "",
                      },
                    ],
                    "name": "If",
                    "properties": {
                      "dataSource": "<%= CTX.detailLog %>",
                    },
                    "slot": "",
                  },
                ],
                "events": undefined,
                "lifeCycle": undefined,
                "name": "Modal",
                "properties": {
                  "hideCancelButton": true,
                  "maskClosable": true,
                  "title": "<%= CTX.detailLog
            ? \`\${r.opType}\${r.opSubType ? \` / \${r.opSubType}\` : ""}\`
            : "" %>",
                  "width": "800px",
                },
                "ref": "modalRef-0",
                "reference": null,
                "slot": undefined,
              },
            ],
            "events": undefined,
            "lifeCycle": undefined,
            "name": "View",
            "properties": {
              "title": "任务日志",
            },
            "ref": undefined,
            "reference": null,
            "slot": undefined,
          },
        ],
        "effectsMap": Map {},
        "id": null,
        "type": "view",
      },
      "title": "任务日志",
      "type": "view",
    },
    "errors": [],
    "filePath": "/View.tsx",
    "internals": [
      {
        "component": {
          "bindingMap": Map {
            Node {
              "end": 280,
              "loc": SourceLocation {
                "end": Position {
                  "column": 10,
                  "index": 280,
                  "line": 14,
                },
                "filename": undefined,
                "identifierName": "expanded",
                "start": Position {
                  "column": 2,
                  "index": 272,
                  "line": 14,
                },
              },
              "name": "expanded",
              "range": undefined,
              "start": 272,
              "type": "Identifier",
            } => {
              "id": Node {
                "end": 280,
                "loc": SourceLocation {
                  "end": Position {
                    "column": 10,
                    "index": 280,
                    "line": 14,
                  },
                  "filename": undefined,
                  "identifierName": "expanded",
                  "start": Position {
                    "column": 2,
                    "index": 272,
                    "line": 14,
                  },
                },
                "name": "expanded",
                "range": undefined,
                "start": 272,
                "type": "Identifier",
              },
              "initialValue": undefined,
              "kind": "param",
            },
            Node {
              "end": 295,
              "loc": SourceLocation {
                "end": Position {
                  "column": 13,
                  "index": 295,
                  "line": 15,
                },
                "filename": undefined,
                "identifierName": "allExpanded",
                "start": Position {
                  "column": 2,
                  "index": 284,
                  "line": 15,
                },
              },
              "name": "allExpanded",
              "range": undefined,
              "start": 284,
              "type": "Identifier",
            } => {
              "id": Node {
                "end": 295,
                "loc": SourceLocation {
                  "end": Position {
                    "column": 13,
                    "index": 295,
                    "line": 15,
                  },
                  "filename": undefined,
                  "identifierName": "allExpanded",
                  "start": Position {
                    "column": 2,
                    "index": 284,
                    "line": 15,
                  },
                },
                "name": "allExpanded",
                "range": undefined,
                "start": 284,
                "type": "Identifier",
              },
              "initialValue": undefined,
              "kind": "param",
            },
            Node {
              "end": 307,
              "loc": SourceLocation {
                "end": Position {
                  "column": 10,
                  "index": 307,
                  "line": 16,
                },
                "filename": undefined,
                "identifierName": "onToggle",
                "start": Position {
                  "column": 2,
                  "index": 299,
                  "line": 16,
                },
              },
              "name": "onToggle",
              "range": undefined,
              "start": 299,
              "type": "Identifier",
            } => {
              "id": Node {
                "end": 307,
                "loc": SourceLocation {
                  "end": Position {
                    "column": 10,
                    "index": 307,
                    "line": 16,
                  },
                  "filename": undefined,
                  "identifierName": "onToggle",
                  "start": Position {
                    "column": 2,
                    "index": 299,
                    "line": 16,
                  },
                },
                "name": "onToggle",
                "range": undefined,
                "start": 299,
                "type": "Identifier",
              },
              "kind": "eventHandlerParam",
            },
            Node {
              "end": 323,
              "loc": SourceLocation {
                "end": Position {
                  "column": 14,
                  "index": 323,
                  "line": 17,
                },
                "filename": undefined,
                "identifierName": "onOpenDetail",
                "start": Position {
                  "column": 2,
                  "index": 311,
                  "line": 17,
                },
              },
              "name": "onOpenDetail",
              "range": undefined,
              "start": 311,
              "type": "Identifier",
            } => {
              "id": Node {
                "end": 323,
                "loc": SourceLocation {
                  "end": Position {
                    "column": 14,
                    "index": 323,
                    "line": 17,
                  },
                  "filename": undefined,
                  "identifierName": "onOpenDetail",
                  "start": Position {
                    "column": 2,
                    "index": 311,
                    "line": 17,
                  },
                },
                "name": "onOpenDetail",
                "range": undefined,
                "start": 311,
                "type": "Identifier",
              },
              "kind": "eventHandlerParam",
            },
          },
          "children": [
            {
              "children": [
                {
                  "children": [
                    {
                      "children": undefined,
                      "events": {
                        "click": [
                          {
                            "action": "dispatch_event",
                            "payload": {
                              "detail": "<% EVENT.detail %>",
                              "type": "toggle",
                            },
                          },
                        ],
                      },
                      "lifeCycle": undefined,
                      "name": "Button",
                      "properties": {
                        "textContent": "<%= FN._helper_mergeTexts({type:"expression",value:(STATE.expanded ? "收起" : "展开")}) %>",
                      },
                      "ref": undefined,
                      "reference": null,
                      "slot": "",
                    },
                  ],
                  "name": "If",
                  "properties": {
                    "dataSource": "<%= !STATE.allExpanded %>",
                  },
                  "slot": "",
                },
                {
                  "children": undefined,
                  "events": {
                    "click": [
                      {
                        "action": "dispatch_event",
                        "payload": {
                          "detail": "<% EVENT.detail %>",
                          "type": "open.detail",
                        },
                      },
                    ],
                  },
                  "lifeCycle": undefined,
                  "name": "Button",
                  "properties": {
                    "textContent": "详情",
                  },
                  "ref": undefined,
                  "reference": null,
                  "slot": undefined,
                },
              ],
              "events": undefined,
              "lifeCycle": undefined,
              "name": "Toolbar",
              "properties": {},
              "ref": undefined,
              "reference": null,
              "slot": undefined,
            },
          ],
          "effectsMap": Map {},
          "id": Node {
            "end": 267,
            "loc": SourceLocation {
              "end": Position {
                "column": 19,
                "index": 267,
                "line": 13,
              },
              "filename": undefined,
              "identifierName": "Operations",
              "start": Position {
                "column": 9,
                "index": 257,
                "line": 13,
              },
            },
            "name": "Operations",
            "start": 257,
            "type": "Identifier",
          },
          "type": "template",
        },
        "type": "template",
      },
      {
        "function": {
          "name": "prettierOutput",
          "source": "function prettierOutput(output: string) {
  try {
    const data = JSON.parse(output);
    return JSON.stringify(data, null, 2);
  } catch (e) {
    return output;
  }
}",
          "typescript": true,
        },
        "type": "function",
      },
    ],
    "moduleType": "entry",
    "namedExports": Map {},
    "source": undefined,
    "topLevelBindings": Map {
      Node {
        "end": 267,
        "loc": SourceLocation {
          "end": Position {
            "column": 19,
            "index": 267,
            "line": 13,
          },
          "filename": undefined,
          "identifierName": "Operations",
          "start": Position {
            "column": 9,
            "index": 257,
            "line": 13,
          },
        },
        "name": "Operations",
        "start": 257,
        "type": "Identifier",
      } => {
        "id": Node {
          "end": 267,
          "loc": SourceLocation {
            "end": Position {
              "column": 19,
              "index": 267,
              "line": 13,
            },
            "filename": undefined,
            "identifierName": "Operations",
            "start": Position {
              "column": 9,
              "index": 257,
              "line": 13,
            },
          },
          "name": "Operations",
          "start": 257,
          "type": "Identifier",
        },
        "kind": "component",
      },
      Node {
        "end": 657,
        "loc": SourceLocation {
          "end": Position {
            "column": 23,
            "index": 657,
            "line": 34,
          },
          "filename": undefined,
          "identifierName": "prettierOutput",
          "start": Position {
            "column": 9,
            "index": 643,
            "line": 34,
          },
        },
        "name": "prettierOutput",
        "start": 643,
        "type": "Identifier",
      } => {
        "id": Node {
          "end": 657,
          "loc": SourceLocation {
            "end": Position {
              "column": 23,
              "index": 657,
              "line": 34,
            },
            "filename": undefined,
            "identifierName": "prettierOutput",
            "start": Position {
              "column": 9,
              "index": 643,
              "line": 34,
            },
          },
          "name": "prettierOutput",
          "start": 643,
          "type": "Identifier",
        },
        "kind": "function",
      },
    },
    "usedHelpers": Set {
      "_helper_mergeTexts",
    },
  },
  "errors": [],
  "files": undefined,
  "i18nKeys": Set {},
  "imageFiles": Set {},
  "menus": [],
  "modules": [],
}
`;
